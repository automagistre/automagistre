table:
    name: contact_relation
    schema: public
object_relationships:
    -   name: contact
        using:
            foreign_key_constraint_on: target_id
    -   name: contactBySourceId
        using:
            foreign_key_constraint_on: source_id
    -   name: tenant_group
        using:
            foreign_key_constraint_on: tenant_group_id
insert_permissions:
    -   permission:
            backend_only: false
            check:
                _and:
                    -   tenant_group:
                            tenant_group_permissions:
                                _and:
                                    -   user_id:
                                            _eq: X-Hasura-User-Id
                                    -   tenant_group_id:
                                            _eq: X-Hasura-Tenant-Group-Id
            columns:
                - comment
                - source_id
                - target_id
            set:
                tenant_group_id: x-hasura-Tenant-Group-Id
        role: manager
select_permissions:
    -   permission:
            allow_aggregations: true
            columns:
                - comment
                - created_at
                - updated_at
                - id
                - source_id
                - target_id
                - tenant_group_id
            filter:
                _and:
                    -   tenant_group:
                            tenant_group_permissions:
                                _and:
                                    -   user_id:
                                            _eq: X-Hasura-User-Id
                                    -   tenant_group_id:
                                            _eq: X-Hasura-Tenant-Group-Id
        role: manager
