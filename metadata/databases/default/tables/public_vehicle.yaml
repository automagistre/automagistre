table:
    name: vehicle
    schema: public
object_relationships:
    -   name: tenant_group
        using:
            foreign_key_constraint_on: tenant_group_id
    -   name: vehicle_air_intake
        using:
            foreign_key_constraint_on: air_intake
    -   name: vehicle_body
        using:
            foreign_key_constraint_on: vehicle_body_id
    -   name: vehicle_body_type
        using:
            foreign_key_constraint_on: vehicle_body_type_id
    -   name: vehicle_drive_wheel
        using:
            foreign_key_constraint_on: drive_wheel
    -   name: vehicle_fuel_type
        using:
            foreign_key_constraint_on: fuel_type
    -   name: vehicle_injection
        using:
            foreign_key_constraint_on: injection
    -   name: vehicle_tire_category
        using:
            foreign_key_constraint_on: tire_category
    -   name: vehicle_transmission
        using:
            foreign_key_constraint_on: transmission
array_relationships:
    -   name: vehicle_contacts
        using:
            foreign_key_constraint_on:
                column: vehicle_id
                table:
                    name: vehicle_contact
                    schema: public
insert_permissions:
    -   permission:
            backend_only: false
            check:
                _and:
                    -   tenant_group:
                            tenant_group_permissions:
                                _and:
                                    -   tenant_group_id:
                                            _eq: X-Hasura-Tenant-Group-Id
                                    -   user_id:
                                            _eq: X-Hasura-User-Id
            columns:
                - air_intake
                - vehicle_body_id
                - vehicle_body_type_id
                - comment
                - drive_wheel
                - engine_capacity
                - engine_name
                - fuel_type
                - identifier
                - injection
                - legal_plate
                - mileage
                - tire_category
                - transmission
                - year
            set:
                tenant_group_id: x-hasura-Tenant-Group-Id
        role: manager
select_permissions:
    -   permission:
            allow_aggregations: true
            columns:
                - id
                - vehicle_body_id
                - identifier
                - year
                - comment
                - mileage
                - legal_plate
                - tenant_group_id
                - engine_name
                - engine_capacity
                - created_at
                - updated_at
                - vehicle_body_type_id
                - transmission
                - air_intake
                - drive_wheel
                - fuel_type
                - injection
                - tire_category
            filter:
                _and:
                    -   tenant_group:
                            tenant_group_permissions:
                                _and:
                                    -   tenant_group_id:
                                            _eq: X-Hasura-Tenant-Group-Id
                                    -   user_id:
                                            _eq: X-Hasura-User-Id
        role: manager
update_permissions:
    -   permission:
            check: null
            columns:
                - air_intake
                - vehicle_body_id
                - vehicle_body_type_id
                - comment
                - drive_wheel
                - engine_capacity
                - engine_name
                - fuel_type
                - identifier
                - injection
                - legal_plate
                - mileage
                - tire_category
                - transmission
                - year
            filter:
                _and:
                    -   tenant_group:
                            tenant_group_permissions:
                                _and:
                                    -   tenant_group_id:
                                            _eq: X-Hasura-Tenant-Group-Id
                                    -   user_id:
                                            _eq: X-Hasura-User-Id
        role: manager
delete_permissions:
    -   permission:
            filter:
                _and:
                    -   tenant_group:
                            tenant_group_permissions:
                                _and:
                                    -   tenant_group_id:
                                            _eq: X-Hasura-Tenant-Group-Id
                                    -   user_id:
                                            _eq: X-Hasura-User-Id
        role: manager
